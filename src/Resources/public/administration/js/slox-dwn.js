(function(){var e={44:function(){},353:function(e,n,t){var o=t(44);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),t(346).Z("dd604e62",o,!0,{})},346:function(e,n,t){"use strict";function o(e,n){for(var t=[],o={},s=0;s<n.length;s++){var a=n[s],r=a[0],i={id:e+":"+s,css:a[1],media:a[2],sourceMap:a[3]};o[r]?o[r].parts.push(i):t.push(o[r]={id:r,parts:[i]})}return t}t.d(n,{Z:function(){return h}});var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},r=s&&(document.head||document.getElementsByTagName("head")[0]),i=null,l=0,d=!1,c=function(){},u=null,p="data-vue-ssr-id",w="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,n,t,s){d=t,u=s||{};var r=o(e,n);return f(r),function(n){for(var t=[],s=0;s<r.length;s++){var i=a[r[s].id];i.refs--,t.push(i)}n?f(r=o(e,n)):r=[];for(var s=0;s<t.length;s++){var i=t[s];if(0===i.refs){for(var l=0;l<i.parts.length;l++)i.parts[l]();delete a[i.id]}}}}function f(e){for(var n=0;n<e.length;n++){var t=e[n],o=a[t.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](t.parts[s]);for(;s<t.parts.length;s++)o.parts.push(g(t.parts[s]));o.parts.length>t.parts.length&&(o.parts.length=t.parts.length)}else{for(var r=[],s=0;s<t.parts.length;s++)r.push(g(t.parts[s]));a[t.id]={id:t.id,refs:1,parts:r}}}}function v(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function g(e){var n,t,o=document.querySelector("style["+p+'~="'+e.id+'"]');if(o){if(d)return c;o.parentNode.removeChild(o)}if(w){var s=l++;n=x.bind(null,o=i||(i=v()),s,!1),t=x.bind(null,o,s,!0)}else n=m.bind(null,o=v()),t=function(){o.parentNode.removeChild(o)};return n(e),function(o){o?(o.css!==e.css||o.media!==e.media||o.sourceMap!==e.sourceMap)&&n(e=o):t()}}var b=function(){var e=[];return function(n,t){return e[n]=t,e.filter(Boolean).join("\n")}}();function x(e,n,t,o){var s=t?"":o.css;if(e.styleSheet)e.styleSheet.cssText=b(n,s);else{var a=document.createTextNode(s),r=e.childNodes;r[n]&&e.removeChild(r[n]),r.length?e.insertBefore(a,r[n]):e.appendChild(a)}}function m(e,n){var t=n.css,o=n.media,s=n.sourceMap;if(o&&e.setAttribute("media",o),u.ssrId&&e.setAttribute(p,n.id),s&&(t+="\n/*# sourceURL="+s.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},n={};function t(o){var s=n[o];if(void 0!==s)return s.exports;var a=n[o]={id:o,exports:{}};return e[o](a,a.exports,t),a.exports}t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="bundles/sloxdwn/",window?.__sw__?.assetPath&&(t.p=window.__sw__.assetPath+"/bundles/sloxdwn/"),function(){"use strict";let{ApiService:e}=Shopware.Classes,{Context:n}=Shopware;class o extends e{constructor(e,n,t="sloxdwn"){super(e,n,t),this.name="sloxdwn"}async requestDownloadToken(e){let n=`/_action/${this.apiEndpoint}/${e}/request-download-token`,t=this.getBasicHeaders();return await this.httpClient.post(n,{},{headers:t}).then(e=>e?.data?.accessToken)}requestDownload(e,t){let o=new URLSearchParams({accessToken:t}),s=n.api.apiPath+`/_admin/${this.apiEndpoint}/${e}/request-download?${o.toString()}`;window.open(s,"_blank")}}Shopware.Service().register("PluginDownloadService",()=>new o(Shopware.Application.getContainer("init").httpClient,Shopware.Service("loginService"))),t(353);let{Component:s,Context:a,Mixin:r}=Shopware,{Criteria:i}=Shopware.Data;Shopware.Component.override("sw-extension-card-base",{template:'\n{% block sw_extension_card_base_info_head %}\n    {% parent %}\n\n    <sw-button variant="ghost" class="slox-download-button" size="x-small" \n    @click="requestDownload" @keydown.enter="requestDownload" \n    :is-loading="isDownloadLoading" >\n        <sw-icon class="slox-dowwnload-button-icon" name="regular-cloud-download" />\n        Download\n    </sw-button>\n{% endblock %}\n\n{% block sw_extension_card_base_activation_switch %}\n    <section>\n        <span class="sw-extension-card-base__info-name">\n            {{ extension.label }}\n        </span>\n        <span class="sw-extension-card-base__download-button">\n        <br/>\n            <sw-button variant="ghost" class="slox-download-button" size="x-small" \n                @click="requestDownload" @keydown.enter="requestDownload" \n                :is-loading="isDownloadLoading" >\n                    <sw-icon class="slox-dowwnload-button-icon" name="regular-cloud-download" />\n                    Download\n            </sw-button>\n        </span>\n        \n        {% block sw_extension_card_base_info_inactive_label %}\n        <span\n            v-if="isInstalled && !extension.active"\n            class="sw-extension-card-base__info-inactive"\n        >\n            {{ $tc(\'sw-extension-store.component.sw-extension-card-base.inactiveLabel\') }}\n        </span>\n        {% endblock %}\n    </section>\n{% endblock %}',inheritAttrs:!1,inject:["PluginDownloadService"],mixins:[r.getByName("notification"),"sw-extension-error"],data(){return{isDownloadLoading:!1}},methods:{async requestDownload(){this.isDownloadLoading=!0;try{let e=await this.PluginDownloadService.requestDownloadToken(this.extension.localId).catch(()=>null);e?this.PluginDownloadService.requestDownload(this.extension.localId,e):this.createNotificationError({title:"Unexpected error",message:"Could not generate access token for extension download"})}catch(e){this.showExtensionErrors(e)}finally{this.isDownloadLoading=!1}}}})}()})();